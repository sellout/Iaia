{"concurrency":{"cancel-in-progress":false,"group":"pages"},"jobs":{"build":{"runs-on":"ubuntu-latest","steps":[{"name":"Checkout","uses":"actions/checkout@v4"},{"name":"Setup Pages","uses":"actions/configure-pages@v3"},{"uses":"cachix/install-nix-action@v23","with":{"extra_nix_config":"extra-substituters = https://cache.garnix.io\nextra-trusted-public-keys = cache.garnix.io:CTFPyKSLcx5RMJKfLo5EEPUObbA78b0YQ2DTCJXqr9g=\n"}},{"uses":"lriesebos/nix-develop-command@v1","with":{"command":"idris --mkdoc iaia.ipkg\n## We copy here to fix the permissions from the Nix symlinks\ncp -r ./iaia_doc ./_site\nchmod --recursive +rwx ./_site\n","devshell":"iaia"}},{"name":"Upload artifact","uses":"actions/upload-pages-artifact@v2"}]},"deploy":{"environment":{"name":"github-pages","url":"${{ steps.deployment.outputs.page_url }}"},"needs":"build","runs-on":"ubuntu-latest","steps":[{"id":"deployment","name":"Deploy to GitHub Pages","uses":"actions/deploy-pages@v2"}]}},"name":"Deploy generated docs to Pages","on":{"push":{"branches":["main"]},"workflow_dispatch":null},"permissions":{"contents":"read","id-token":"write","pages":"write"}}